
<div class="container mt-4">
    <br>
    <div class="row">
        <div  class="col-sm-8">
          <table class="table table-hover">
            <thead>
              <tr>
                <th>Item</th>
                <th>Descripci√≥n</th>
                <th>Precio</th>
                <th>Cant</th>
                <th>SubTotal</th>
                <th>Accion</th>
              </tr>
            </thead>
            <tbody>

               <tr *ngFor="let detalle of carrito, let i = index" >
                  <td>                    
                    {{i+1}}
                  </td>
                  <td> 
                    <!-- image -->
                    
                    <img src="assets/images/{{detalle.idProducto}}.jpg" alt="{{detalle.producto.nombre}}"  width="100" height="100"> 
                  </td>
                  <td> 
                    <!-- precio -->
                    {{detalle.producto.precioUnitario}}
                    
                  </td>
                  <td>  
                    <input 
                      type="number" 
                      [(ngModel)]="detalle.cantidad" 
                      class="form-control text-center"
                      style="width: 80px;"
                      min="1" 
                      (change)="actualizarCantidad(detalle.idProducto)"
                    >
                   </td>
                  <td> 
                    {{ detalle.montoSubtotalProducto }}
                  </td>
                  <td> 
                    <button class="btn btn-primary btn-block"  (click)="eliminarItemCarrito(detalle.producto)">Eliminar</button>
                  </td>
                </tr> 	
            </tbody>
          </table>     
        </div>
        

        <div class="card" >           
            <h3 class="card-header">Generar Compra</h3>           
            <div class="card-body">
              <label>Subtotal: </label>
              <input type="text" value="{{ calcularTotal() }}" readonly="" class="form-control"> 
              <label>Descuento: </label>
              <input type="text" value="S/. 0.00" readonly="" class="form-control"> 
              <label>Total Pagar: </label>
              <input type="text" value="{{ calcularTotal() }}" readonly="" class="form-control"> 
            </div>
            <div class="card-footer text-muted">
            <button (click)="registrarCompra()"  class="btn btn-danger">Realizar Pago</button>
            </div>
        </div>

    </div>
    
</div>  
